# 拼伞小程序后端技术方案

## 用户登录

登录时存储用户的微信昵称，性别，微信号(作为主键)

## 实时地图页面(‘/’)

- 接口一：我需要伞，点击后发起一个request请求到`www.****.com/ineedumbrella`。

  需要的数据：

  - 用户的昵称
  - 用户的性别

- 接口二：升级我的小伞(我提供伞)，点起后发起一个request请求到`www.****.com/iofferumbrella`

## 我需要伞页面(‘/ineedumbrella’)

### 表单：

位置：在地图上点击后返回经纬度坐标，并在地图上该位置渲染小伞图片

备注：要去哪里，什么时候去？

有效期：5/10分钟，超时后将表单信息删除

## 升级小伞(‘iofferumbrella’)

### 表单：

位置：同上

备注：何时何地能帮助同学？

有效期：同上

## 成功拼伞(‘/successhelp’)

提供伞的用户等级+1，即success_counts加一，根据等级在主页放置小伞时渲染不同的图片

重定向回主页

## 数据库

### 用户模型属性

- 微信号wx

- 昵称username(默认为微信昵称, 暂不提供个人资料修改)
- 性别sex
- 成功帮助他人的次数success_counts

### 用户模型方法

